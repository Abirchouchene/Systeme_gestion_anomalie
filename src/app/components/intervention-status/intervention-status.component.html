<div class="container py-4">

  <!-- En-tête -->
  <div class="mb-4">
    <h3 class="fw-bold">
      <i class="bi bi-funnel me-2"></i>Recherche par statut
    </h3>
    <p class="text-muted">
      Consultez les interventions selon leur état
    </p>
  </div>

  <!-- Formulaire -->
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <div class="row align-items-end">
        <div class="col-md-4">
          <label class="form-label fw-semibold">Statut</label>
          <select class="form-select" [(ngModel)]="statut">
            <option value="">Sélectionner</option>
            <option value="EN_ATTENTE">En attente</option>
            <option value="EN_COURS">En cours</option>
            <option value="TERMINEE">Terminée</option>
            <option value="ANNULEE">Annulée</option>
          </select>
        </div>

        <div class="col-md-3">
          <button class="btn btn-primary w-100" (click)="rechercher()">
            <i class="bi bi-search me-1"></i>Rechercher
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-4">
    <div class="spinner-border text-primary"></div>
  </div>

  <!-- Résultats -->
  <div *ngIf="recherchEffectuee && !loading" class="card shadow-sm border-0">
    <div class="card-body">

      <div *ngIf="interventions.length === 0" class="text-center text-muted py-3">
        <i class="bi bi-info-circle me-2"></i>Aucune intervention trouvée
      </div>

      <div *ngFor="let i of interventions" class="border rounded p-3 mb-3">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="fw-bold mb-1">
              Intervention #{{ i.id }}
            </h6>
            <small class="text-muted">
              Alerte {{ i.alerteId }} | Technicien {{ i.technicienId }}
            </small>
          </div>

          <span class="badge" [ngClass]="getStatutBadgeClass(i.statut)">
            <i class="bi me-1" [ngClass]="getStatutIcon(i.statut)"></i>
            {{ i.statut }}
          </span>
        </div>
      </div>

    </div>
  </div>

</div>
